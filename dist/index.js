!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}("undefined"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="../dist/",t(t.s=0)}([function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o,i={},u={},a=[],c=[],s=[],f=!1,l=function(e){return e="string"==typeof e?JSON.parse(e.replace(/\'/gi,'"')):e,e instanceof Array?{"":e}:e},d=function(e,t,n,r){var o=!0===n.modifiers.push,i=!0===n.modifiers.avoid,u=!0==!n.modifiers.focus,s=!0===n.modifiers.once,f=!0===n.modifiers.allow;i?a.push(t,t):f?(a=a.filter(function(e){return e!==t}),c.push(t,t)):v({b:e,push:o,once:s,focus:u,el:r.elm})},p=function(e,t){for(var n in e){var r=e[n].join(""),o=u[r].el.indexOf(t);u[r].el.length>1&&o>-1?u[r].el.splice(o,1):delete u[r],a=a.filter(function(e){return!e===t})}};i.install=function(e,t){s=[].concat(r(t&&t.prevent?t.prevent:[])),e.directive("shortkey",{bind:function(e,t,n){var r=l(t.value);d(r,e,t,n)},update:function(e,t,n){var r=l(t.oldValue);p(r,e);var o=l(t.value);d(o,e,t,n)},unbind:function(e,t){var n=l(t.value);p(n,e)}})},i.decodeKey=function(e){var t="";return("Shift"===e.key||e.shiftKey)&&(t+="shift"),("Control"===e.key||e.ctrlKey)&&(t+="ctrl"),("Meta"===e.key||e.metaKey)&&(t+="meta"),("Alt"===e.key||e.altKey)&&(t+="alt"),"ArrowUp"===e.key&&(t+="arrowup"),"ArrowLeft"===e.key&&(t+="arrowleft"),"ArrowRight"===e.key&&(t+="arrowright"),"ArrowDown"===e.key&&(t+="arrowdown"),"AltGraph"===e.key&&(t+="altgraph"),"Escape"===e.key&&(t+="esc"),"Enter"===e.key&&(t+="enter"),"Tab"===e.key&&(t+="tab")," "===e.key&&(t+="space"),"PageUp"===e.key&&(t+="pageup"),"PageDown"===e.key&&(t+="pagedown"),"Home"===e.key&&(t+="home"),"End"===e.key&&(t+="end"),"Delete"===e.key&&(t+="del"),"Insert"===e.key&&(t+="insert"),"NumLock"===e.key&&(t+="numlock"),"CapsLock"===e.key&&(t+="capslock"),"Pause"===e.key&&(t+="pause"),"ContextMenu"===e.key&&(t+="contextmenu"),"ScrollLock"===e.key&&(t+="scrolllock"),"BrowserHome"===e.key&&(t+="browserhome"),"MediaSelect"===e.key&&(t+="mediaselect"),(e.key&&" "!==e.key&&1===e.key.length||/F\d{1,2}|\//g.test(e.key))&&(t+=e.key.toLowerCase()),t};var y=function(e){var t=new Event("shortkey",{bubbles:!1});u[e].key&&(t.srcKey=u[e].key);var n=u[e].el;n[n.length-1].dispatchEvent(t)};i.keyDown=function(e){(!u[e].once&&!u[e].push||u[e].push&&!f)&&y(e)},function(){document.addEventListener("keydown",function(e){var t=i.decodeKey(e);if(k(e))if(e.preventDefault(),e.stopPropagation(),u[t].focus)i.keyDown(t),f=!0;else if(!f){var n=u[t].el;n[n.length-1].focus(),f=!0}},!0),document.addEventListener("keyup",function(e){var t=i.decodeKey(e);k(e)&&(e.preventDefault(),e.stopPropagation(),(u[t].once||u[t].push)&&y(t)),f=!1},!0)}();var v=function(e){var t=e.b,n=e.push,r=e.once,o=e.focus,i=e.el;for(var a in t){var c=t[a].join(""),s=u[c]&&u[c].el?u[c].el:[];s.push(i),u[c]={push:n,once:r,focus:o,key:a,el:s}}},k=function(e){var t=i.decodeKey(e),n=c.find(function(e){return e===document.activeElement}),r=a.find(function(e){return e===document.activeElement}),o=m(),s=o.avoidedTypes,f=o.avoidedClasses,l=s.find(function(e){return document.activeElement&&e===document.activeElement.tagName.toLowerCase()}),d=f.find(function(e){return document.activeElement&&e==="."+document.activeElement.className.toLowerCase()});return n&&u[t]||!r&&u[t]&&!l&&!d},m=function(){var e=[],t=[];return s.forEach(function(n){var r=n.indexOf(".");0===r?t.push(n):r>0?(e.push(n.split(".")[0]),t.push("."+n.split(".")[1])):e.push(n)}),{avoidedTypes:e,avoidedClasses:t}};void 0!==e&&e.exports?e.exports=i:void 0!==(o=function(){return i}.call(t,n,t,e))&&(e.exports=o)}])});
//# sourceMappingURL=index.js.map